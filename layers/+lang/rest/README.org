#+TITLE: rest layer
#+HTML_HEAD_EXTRA: <link rel="stylesheet" type="text/css" href="../css/readtheorg.css" />

#+CAPTION: logo

# The maximum height of the logo should be 200 pixels.
[[img/rest.png]]

* Table of Contents                                        :TOC_4_org:noexport:
 - [[Decsription][Description]]
 - [[Install][Install]]
 - [[Key bindings][Key bindings]]

* Description

The layer adds ReST support to Spacemacs and adds some functions to rst-mode.

** Features

  - rst files are supported via Emacs built-in rst.el.
  - Lists are inserted by new functions. 
  - Directives can be inserted easily.
  - Sphinx is supported.

* Install
To use this contribution add it to your =~/.spacemacs=

#+begin_src emacs-lisp
  (setq-default dotspacemacs-configuration-layers '(rest))
#+end_src

* Configuration

To use the layer's Sphinx feature, the following variables should be set.

A parent directory is needed for all Sphinx projects' builds.

#+begin_src emacs-lisp
    (setq rst-sphinx-target-parent "/your/path/of/build/")
#+end_src

Set a directory in the parent directory for each Sphinx project.

#+begin_src emacs-lisp
    (setq rst-sphinx-target-projects
          '(("project1" . (latex "folder/in/target/parent" t))
            ("project2" . (html  "folder/in/target/parent" nil))
            ))
#+end_src

Set the browser for viewing the HTML page of current rst file. This one 
is optional. If not set, the default browser will be used.

#+begin_src emacs-lisp
    (setq rst-slides-program "chromium")
#+end_src

* Key bindings

** Normal state

| Key Binding | Description                             |
|-------------+-----------------------------------------|
| ~<SPC> m c~ | compile projects                        |
| ~<SPC> m f~ | open compiled HTML page of current page |

** Hybrid state

| Key Binding | Description                          |
|-------------+--------------------------------------|
| ~S-RET~     | insert bullet lists                  |
| ~C-0 S-RET~ | insert lists, choose list type first |
| ~C-c C-d~   | insert directives                    |
| ~C-c C-o~   | add an option to current directive   |
