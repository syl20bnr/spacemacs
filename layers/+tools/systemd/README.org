#+TITLE: systemd layer

#+TAGS: layer|tool

* Table of Contents                     :TOC_5_gh:noexport:
- [[#description][Description]]
  - [[#features][Features:]]
- [[#install][Install]]
- [[#key-bindings][Key bindings]]
- [[#journalctl-mode][Journalctl-mode]]
  - [[#key-bindings-1][Key Bindings]]

* Description
This layer adds support for editing =systemd= configuration files in Spacemacs.

** Features:
- Syntax highlighting
- Auto completion
- Syntax checking via =systemd-analyze=
- Viewing systemd unit via =journalctl-mode=
- Viewing systemd user unit via =journalctl-mode=
  
* Install
To use this contribution add it to your =~/.spacemacs=

#+BEGIN_SRC emacs-lisp
  (setq-default dotspacemacs-configuration-layers '(systemd))
#+END_SRC

* Key bindings

| Key binding   | Description                                                              |
|---------------+--------------------------------------------------------------------------|
| ~SPC m h d~   | Systemd open the directives documentation                                |
| ~SPC m h o~   | Systemd open documentation (if a =\=Documentation= directive is provided |

* Journalctl-mode
This is a major-mode for emacs to view systemd's journalctl output in emacs. The output is split into chunks for performance reasons. Fontification is provided and may be customized.

** Key Bindings
| Key binding   | Description                                                              |
|---------------+--------------------------------------------------------------------------|
| ~SPC a t j b~ | Select and show boot-log with =journalctl-mode=.                         |
| ~SPC a t j j~ | Run =journalctl-mode= with custom option                                 |
| ~SPC a t j s~ | Select and show journal for UNIT in =journalctl-mode=.                   |
| ~SPC a t j u~ | Select and show journal for the user-unit UNIT in =journalctl-mode=.     |
